<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>


    <h1>Dina transaktioner</h1>
    <p id="transaktions"> </p> 
 
    <label for="kaffe-select">Väj kaffesort:</label>

<select name="kaffesort" id="kaffe-select">
    <option value="">--Välj kaffesort--</option>
    <option value="Bryggkaffe">Bryggkaffe</option>
    <option value="Cappuccino">Cappuccino</option>
    <option value="Latte">Latte</option>
</select>

    <button type="button" onclick="myFunction()">Köp</button>

    <script>
        const coffees = [
    { name: 'Bryggkaffe', price: 20 },
    { name: 'Cappucino', price: 30 },
    { name: 'Latte', price: 40 }
]

class Customer {
    constructor() {
        this.transactions = []
        this.membership = "Brons"
        this.numberOfCups = 0
        this.transactionSum = 0

    }

    getMembershipStatus() {
        return this.membership
    }

    updateMembershipStatus() {
        if (this.numberOfCups >= 10 && this.numberOfCups < 30) {
            this.membership = "Silver"
        }
        else if (this.numberOfCups >= 30) {
            this.membership = "Guld"
        }
        return this.membership
    }

    getTransaction() {
        return this.transactions
    }

    getTotalSpent() {
        let sum = 0
        for (let i = 0; i < this.transactions.length; i++) {
            const element = this.transactions[i]
            sum += (element[0].price * element[0].numberOfCups)
        }
        this.transactionSum = sum

    }

    addTransaction(typeOfCoffee, numberOfCups) {
        let emptyArray = []
        let sumOfTransaction = 0
        if (typeOfCoffee === "Bryggkaffe") {
            sumOfTransaction = numberOfCups * 20
            emptyArray = [{ type: "Bryggkaffe", numberOfCups: numberOfCups, price: coffees[0].price }]
            console.log(`Du har köpt ${numberOfCups} st ${typeOfCoffee} för ${coffees[0].price} kr/st Summa:${sumOfTransaction}`)
            this.transactions.push(emptyArray)
            

        } else if (typeOfCoffee === "Cappuccino") {
            sumOfTransaction = numberOfCups * 30
            emptyArray = [{ type: "Cappuccino", numberOfCups: numberOfCups, price: coffees[1].price }]
            console.log(`Du har köpt ${numberOfCups} st ${typeOfCoffee} för ${coffees[1].price} kr/st Summa:${sumOfTransaction}`)
            this.transactions.push(emptyArray)

        } else if (typeOfCoffee === "Latte") {
            sumOfTransaction = numberOfCups * 40
            emptyArray = [{ type: "Latte", numberOfCups: numberOfCups, price: coffees[2].price }]
            console.log(`Du har köpt ${numberOfCups} st ${typeOfCoffee} för ${coffees[2].price} kr/st Summa:${sumOfTransaction}`)
            this.transactions.push(emptyArray)

        }


    }

    getTotalCups() {
        let sum = 0
        for (let i = 0; i < this.transactions.length; i++) {
            const element = this.transactions[i]
            sum += element[0].numberOfCups
        }
        this.numberOfCups = sum

    }

    /*
    writeMessage() {
        for (let i = 0; i < this.transactions.length; i++) {
            const element = this.transactions[i]
            if (element.typeOfCoffee === "Bryggkaffe") {
            console.log(`Du har köpt ${element[0].numberOfCups} st ${element[0].typeOfCoffee} för ${coffees[0].price} kr/st Summa:${this.transactionSum}`)
        }
        
    }
    }*/
}

let customer1 = new Customer()
customer1.addTransaction("Bryggkaffe", 5)
customer1.addTransaction("Cappuccino", 50)
customer1.addTransaction("Latte", 4)
customer1.getTotalCups()
customer1.getTotalSpent()
console.log(customer1.numberOfCups)
console.log(customer1.transactionSum)
console.log(customer1.updateMembershipStatus())
//customer1.writeMessage()



//console.log(customer1.getTotalSpent())
//console.log(customer1.transactions)
//console.log(customer1.getTotalCups())
    </script>
</body>
</html>
